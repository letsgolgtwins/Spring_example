<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="com.example.lesson04.mapper.UserMapper">
 	<!-- lesson04 ex01_1 -->
 	<insert id="insertUser" parameterType="map">
 		INSERT INTO	`new_user`
 		(
 		`name`
		,`yyyymmdd`
		,`introduce`
		,`email`
		,`createdAt`
		,`updatedAt`
 		)
 		VALUES
 		(
 		#{name}
 		, #{yyyymmdd}
 		, #{introduce}
 		, #{email}
 		, NOW()
 		, NOW()
 		)
 	</insert>
 	
 	<!-- lesson04 ex01_2 -->
 	<select id="selectLatestUser" resultType="com.example.lesson04.domain.User">
 		SELECT
 		`id`
 		,`name`
		,`yyyymmdd`
		,`introduce`
		,`email`
		,`createdAt`
		,`updatedAt`
		FROM 
			`new_user`
		ORDER BY `id` DESC 
		LIMIT 1
 	</select>
 	
 	<!-- lesson06 ex02 AJAX DB에서 select -->
 	<!-- 0이 아닌 수(중복이 있는 셈): true / 0(중복이 없는 셈): false -->
 	<select id="isDuplicationByName" parameterType="String" resultType="boolean">
 		SELECT 
 			COUNT(*)
 		FROM 
 			`new_user`
 		WHERE
 			`name` = #{name}
 	</select>
 </mapper>